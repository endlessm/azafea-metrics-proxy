[requires]
python_version = "3.8"

[dev-packages]
flake8-bugbear = "*"
freezegun = "*"
mypy = ">=0.720"
pytest = "~= 6.2"
pytest-aiohttp = "~= 0.3"
pytest-cov = "*"
pytest-flake8 = "*"
pytest-mypy = ">=0.3.3"
sphinx = "*"

[packages]
aiohttp = ">= 3.5.0"
aioredis = "~= 1.3"
pydantic = "~= 1.1"
toml = "*"

[scripts]
doc = "sphinx-build -b html docs/source docs/build/html"
lint = "py.test --flake8 --mypy -m 'flake8 or mypy'"
proxy = "python -m azafea_metrics_proxy"
test = "py.test --cov=azafea_metrics_proxy --cov-fail-under=99 --no-cov-on-fail -m 'not integration'"
test-all = "py.test --cov=azafea_metrics_proxy --cov-fail-under=99 --no-cov-on-fail"
